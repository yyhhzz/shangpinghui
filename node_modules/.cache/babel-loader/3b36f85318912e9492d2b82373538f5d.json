{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { reqGoodsInfo, reqAddorUpdateShopCart } from \"@/api\";\nimport { SET_UERID } from \"@/utils/USER_ID\";\nconst state = {\n  goodInfo: {},\n  uuid_token: SET_UERID()\n};\nconst mutations = {\n  GETGOODINFO(state, goodInfo) {\n    state.goodInfo = goodInfo;\n  }\n\n};\nconst actions = {\n  // 获取商品信息\n  async getGoodInfo({\n    commit\n  }, skuId) {\n    let result = await reqGoodsInfo(skuId);\n\n    if (result.code == 200) {\n      commit('GETGOODINFO', result.data);\n    }\n  },\n\n  // 添加购物车\n  async addorUpdateShopCart({\n    commit\n  }, {\n    skuId,\n    skuNum\n  }) {\n    let result = await reqAddorUpdateShopCart(skuId, skuNum);\n    console.log(result);\n\n    if (result.code == 200) {\n      return \"ok\";\n    } else {\n      // 添加购物车失败，返回失败的Promise\n      return Promise.reject(new Error('faile'));\n    }\n  }\n\n};\nconst getters = {\n  categoryView(state) {\n    return state.goodInfo.categoryView || {};\n  },\n\n  skuInfo(state) {\n    return state.goodInfo.skuInfo || {};\n  },\n\n  spuSaleAttrList(state) {\n    return state.goodInfo.spuSaleAttrList || {};\n  }\n\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};","map":null,"metadata":{},"sourceType":"module"}