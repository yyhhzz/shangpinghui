{"ast":null,"code":"export default {\n  data() {\n    return {\n      //收集用户输入的关键字\n      keyword: \"\"\n    };\n  },\n\n  mounted() {\n    // 清除关键字\n    this.$bus.$on('clearKeyword', () => {\n      this.keyword = '';\n    });\n  },\n\n  methods: {\n    goSearch() {\n      // 如果有query也传过去\n      let locations = {\n        name: \"search\",\n        params: {\n          keyword: this.keyword\n        }\n      }; //确定路径当中有query参数\n\n      if (this.$route.query) {\n        locations.query = this.$route.query;\n      }\n\n      this.$router.push(locations);\n    },\n\n    // 退出登录\n    async logout() {\n      try {\n        await this.$store.dispatch('userLogout'); // 退出成功返回首页\n\n        this.$router.push('/home');\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n\n  },\n  computed: {\n    userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}